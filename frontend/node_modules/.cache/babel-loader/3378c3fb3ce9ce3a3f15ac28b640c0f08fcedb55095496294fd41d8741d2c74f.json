{"ast":null,"code":"var _jsxFileName = \"/Users/connorvardakis/Documents/GitHub/ServerLightSensorCapstone/frontend/src/ReactChartsLine.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction LineGraph() {\n  _s();\n  const [data, setData] = useState([]);\n\n  // Fetch sensor data from the server\n  useEffect(() => {\n    const fetchSensorData = async () => {\n      try {\n        const response = await fetch(\"http://localhost:8000/sensorData/last12hours\");\n        const result = await response.json();\n\n        // Sort data chronologically (oldest to newest)\n        const sortedData = result.sort((a, b) => new Date(a.utc) - new Date(b.utc));\n\n        // Map data into a format suitable for our chart.\n        // Here, we assume each object has a \"utc\" (timestamp) and \"reading\" (string) property.\n        const chartData = sortedData.map(point => ({\n          utc: point.utc,\n          reading: parseFloat(point.reading)\n        }));\n        setData(chartData);\n      } catch (error) {\n        console.error(\"Error fetching sensor data:\", error);\n      }\n    };\n    fetchSensorData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n    width: \"100%\",\n    height: \"100%\",\n    children: /*#__PURE__*/_jsxDEV(LineChart, {\n      width: 500,\n      height: 300,\n      data: data,\n      margin: {\n        top: 5,\n        right: 30,\n        left: 20,\n        bottom: 5\n      },\n      children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n        strokeDasharray: \"3 3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n        dataKey: \"utc\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Line, {\n        type: \"monotone\",\n        dataKey: \"reading\",\n        stroke: \"#8884d8\",\n        activeDot: {\n          r: 8\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n}\n_s(LineGraph, \"IEMTtLVFIuToo7X/raQbJAxzNQU=\");\n_c = LineGraph;\nexport default LineGraph;\nvar _c;\n$RefreshReg$(_c, \"LineGraph\");","map":{"version":3,"names":["React","useState","useEffect","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","jsxDEV","_jsxDEV","LineGraph","_s","data","setData","fetchSensorData","response","fetch","result","json","sortedData","sort","a","b","Date","utc","chartData","map","point","reading","parseFloat","error","console","width","height","children","margin","top","right","left","bottom","strokeDasharray","fileName","_jsxFileName","lineNumber","columnNumber","dataKey","type","stroke","activeDot","r","_c","$RefreshReg$"],"sources":["/Users/connorvardakis/Documents/GitHub/ServerLightSensorCapstone/frontend/src/ReactChartsLine.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n    LineChart,\n    Line,\n    XAxis,\n    YAxis,\n    CartesianGrid,\n    Tooltip,\n    Legend,\n    ResponsiveContainer,\n} from 'recharts';\n\nfunction LineGraph() {\n    const [data, setData] = useState([]);\n\n    // Fetch sensor data from the server\n    useEffect(() => {\n        const fetchSensorData = async () => {\n            try {\n                const response = await fetch(\"http://localhost:8000/sensorData/last12hours\");\n                const result = await response.json();\n\n                // Sort data chronologically (oldest to newest)\n                const sortedData = result.sort(\n                    (a, b) => new Date(a.utc) - new Date(b.utc)\n                );\n\n                // Map data into a format suitable for our chart.\n                // Here, we assume each object has a \"utc\" (timestamp) and \"reading\" (string) property.\n                const chartData = sortedData.map((point) => ({\n                    utc: point.utc,\n                    reading: parseFloat(point.reading),\n                }));\n\n                setData(chartData);\n            } catch (error) {\n                console.error(\"Error fetching sensor data:\", error);\n            }\n        };\n\n        fetchSensorData();\n    }, []);\n\n    return (\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\n            <LineChart\n                width={500}\n                height={300}\n                data={data}\n                margin={{\n                    top: 5,\n                    right: 30,\n                    left: 20,\n                    bottom: 5,\n                }}\n            >\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                {/* X-axis now uses utc (time) */}\n                <XAxis dataKey=\"utc\" />\n                {/* Y-axis will display the sensor reading */}\n                <YAxis />\n                <Tooltip />\n                <Legend />\n                {/* Use the 'reading' key for the line */}\n                <Line type=\"monotone\" dataKey=\"reading\" stroke=\"#8884d8\" activeDot={{ r: 8 }} />\n            </LineChart>\n        </ResponsiveContainer>\n    );\n}\n\nexport default LineGraph;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}